{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\buianh\\\\Desktop\\\\Github\\\\nguoibangiay.demo\\\\pages\\\\shoes.js\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Head from \"next/head\";\nimport Layout from \"./layout\";\nimport Link from \"next/link\";\nimport url from \"../components/link-data\";\nimport fetch from \"isomorphic-unfetch\";\nimport Phantrang from \"../components/phantrang\";\nimport { dispatchAddToCart, dispatchShowProducts, dispatchSort } from \"./actions/index\";\nimport { connect } from \"react-redux\";\nimport { Row, Col, Media } from \"reactstrap\";\nimport FilterToOrder from \"../components/filter\";\nimport FilterforPrice from \"../components/filterPrice\";\n\nclass Shoes extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      allproducts: [],\n      allproductspage1: [],\n      customRange: 1000000,\n      datakhuyenmai: [],\n      datatintuc: []\n    };\n  }\n\n  componentDidMount() {\n    // get data product sale-off sidebar\n    fetch(`${url}khuyenmai?_start=0&_limit=5`).then(result => {\n      return result.json();\n    }).then(db => this.setState({\n      datakhuyenmai: db\n    })); // end\n    // get data tintuc\n\n    fetch(`${url}tintuc`).then(result => {\n      return result.json();\n    }).then(db => this.setState({\n      datatintuc: db\n    }));\n  }\n\n  render() {\n    const {\n      datakhuyenmai,\n      datatintuc\n    } = this.state;\n    const {\n      currentPage,\n      products,\n      totalItems,\n      limit,\n      sort,\n      order\n    } = this.props;\n    const numberProducts = products.length;\n    const listallproducts = products.map((data, index) => __jsx(Col, {\n      xs: \"6\",\n      sm: \"4\",\n      lg: \"3\",\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"products\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, __jsx(Link, {\n      href: \"/detail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      src: data.src,\n      className: \"img-products\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    })), __jsx(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), __jsx(\"span\", {\n      className: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, data.ten), __jsx(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), __jsx(\"span\", {\n      className: \"gia\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, data.gia.toLocaleString(), \" \\u0111\"), __jsx(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), __jsx(\"button\", {\n      className: \"addcart\",\n      onClick: dispatchAddToCart.bind(this, data),\n      disabled: data.statusAddToCart,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Th\\xEAm v\\xE0o gi\\u1ECF\"))));\n    const listkhuyenmai = datakhuyenmai.map((data, index) => __jsx(Col, {\n      lg: \"12\",\n      key: index,\n      className: \"sidebar-khuyenmai\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, __jsx(Media, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, __jsx(Media, {\n      left: true,\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      src: data.src,\n      alt: data.ten,\n      className: \"thumbnail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    })), __jsx(Media, {\n      body: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, __jsx(\"span\", {\n      className: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, data.ten), __jsx(\"span\", {\n      className: \"gia\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, (data.gia * 70 / 100).toLocaleString(), \" \\u0111\")))));\n    const listtintuc = datatintuc.map((data, index) => __jsx(Col, {\n      lg: \"12\",\n      key: index,\n      className: \"sidebar-khuyenmai\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, __jsx(Media, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, __jsx(Media, {\n      left: true,\n      href: \"#\",\n      className: \"img-tintuc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      src: data.src,\n      alt: data.ten,\n      className: \"thumbnail-tintuc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    })), __jsx(Media, {\n      body: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, __jsx(\"span\", {\n      className: \"title-tintuc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, data.title)))));\n    return __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, __jsx(Head, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, __jsx(\"link\", {\n      rel: \"stylesheet\",\n      href: \"./static/style-header.css\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }), __jsx(\"link\", {\n      rel: \"stylesheet\",\n      href: \"./static/style-footer.css\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), __jsx(\"link\", {\n      rel: \"stylesheet\",\n      href: \"./static/style-shoes.css\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }), __jsx(\"title\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Shoes\")), __jsx(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      id: \"layout\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      id: \"breadcrumb-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      id: \"breadcrumb\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, __jsx(Link, {\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"TRANG CH\\u1EE6\")), __jsx(\"span\", {\n      className: \"divider\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"/\"), __jsx(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"SHOES\")), __jsx(\"div\", {\n      id: \"sort\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, __jsx(\"p\", {\n      id: \"hienthiketqua\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Hi\\u1EC3n th\\u1ECB \", __jsx(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, numberProducts), \" trong \", __jsx(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, totalItems), \" s\\u1EA3n ph\\u1EA9m\"), __jsx(FilterToOrder, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }))), __jsx(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, __jsx(Col, {\n      lg: \"3\",\n      id: \"sidebar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, __jsx(\"h6\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"L\\u1ECCC THEO GI\\xC1\"), __jsx(FilterforPrice, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), __jsx(\"h6\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"KHUY\\u1EC4N M\\xC3I\"), listkhuyenmai, __jsx(\"h6\", {\n      style: {\n        padding: \"1.5rem 0 .7rem 0\",\n        margin: \"0\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"TIN T\\u1EE8C\"), listtintuc), __jsx(Col, {\n      lg: \"9\",\n      id: \"products\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, __jsx(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, listallproducts, __jsx(Phantrang, {\n      totalItems: totalItems,\n      currentPage: currentPage,\n      numberItemsPerPage: limit,\n      sort: sort,\n      order: order,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    })))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  db: state\n});\n\nShoes.getInitialProps = async function ({\n  query\n}) {\n  const page = query.page || 1;\n  const limit = 12;\n  const sort = query.sort || \"id\";\n  const order = query.order || \"asc\";\n  const gialess = query.gia_lte || 5000000;\n  const res = await fetch(`${url}tatcasanpham?_sort=${sort}&_order=${order}&_page=${page}&_limit=${limit}&gia_lte=${gialess}`);\n  const data = await res.json();\n  return {\n    products: data,\n    totalItems: res.headers.get(\"X-Total-Count\"),\n    currentPage: page,\n    limit: limit,\n    sort: sort,\n    order: order\n  };\n};\n\nexport default connect(mapStateToProps, null)(Shoes);","map":{"version":3,"sources":["C:/Users/buianh/Desktop/Github/nguoibangiay.demo/pages/shoes.js"],"names":["React","Head","Layout","Link","url","fetch","Phantrang","dispatchAddToCart","dispatchShowProducts","dispatchSort","connect","Row","Col","Media","FilterToOrder","FilterforPrice","Shoes","Component","constructor","props","state","allproducts","allproductspage1","customRange","datakhuyenmai","datatintuc","componentDidMount","then","result","json","db","setState","render","currentPage","products","totalItems","limit","sort","order","numberProducts","length","listallproducts","map","data","index","src","ten","gia","toLocaleString","bind","statusAddToCart","listkhuyenmai","listtintuc","title","padding","margin","mapStateToProps","getInitialProps","query","page","gialess","gia_lte","res","headers","get"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Head from \"next/head\";\r\nimport Layout from \"./layout\";\r\nimport Link from \"next/link\";\r\nimport url from \"../components/link-data\";\r\nimport fetch from \"isomorphic-unfetch\";\r\nimport Phantrang from \"../components/phantrang\";\r\nimport {\r\n  dispatchAddToCart,\r\n  dispatchShowProducts,\r\n  dispatchSort\r\n} from \"./actions/index\";\r\nimport { connect } from \"react-redux\";\r\nimport { Row, Col, Media } from \"reactstrap\";\r\nimport FilterToOrder from \"../components/filter\";\r\nimport FilterforPrice from \"../components/filterPrice\";\r\n\r\nclass Shoes extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      allproducts: [],\r\n      allproductspage1: [],\r\n      customRange: 1000000,\r\n      datakhuyenmai: [],\r\n      datatintuc: []\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    // get data product sale-off sidebar\r\n    fetch(`${url}khuyenmai?_start=0&_limit=5`)\r\n      .then(result => {\r\n        return result.json();\r\n      })\r\n      .then(db =>\r\n        this.setState({\r\n          datakhuyenmai: db\r\n        })\r\n      );\r\n    // end\r\n    // get data tintuc\r\n    fetch(`${url}tintuc`)\r\n      .then(result => {\r\n        return result.json();\r\n      })\r\n      .then(db =>\r\n        this.setState({\r\n          datatintuc: db\r\n        })\r\n      );\r\n  }\r\n  render() {\r\n    const { datakhuyenmai, datatintuc } = this.state;\r\n    const {\r\n      currentPage,\r\n      products,\r\n      totalItems,\r\n      limit,\r\n      sort,\r\n      order\r\n    } = this.props;\r\n    const numberProducts = products.length;\r\n    const listallproducts = products.map((data, index) => (\r\n      <Col xs=\"6\" sm=\"4\" lg=\"3\" key={index}>\r\n        <div className=\"products\">\r\n          <Link href=\"/detail\">\r\n            <img src={data.src} className=\"img-products\" />\r\n          </Link>\r\n          <br />\r\n          <span className=\"name\">{data.ten}</span>\r\n          <br />\r\n          <span className=\"gia\">{data.gia.toLocaleString()} đ</span>\r\n          <br />\r\n          <button\r\n            className=\"addcart\"\r\n            onClick={dispatchAddToCart.bind(this,data)}\r\n            disabled={data.statusAddToCart}\r\n          >\r\n            Thêm vào giỏ\r\n          </button>\r\n        </div>\r\n      </Col>\r\n    ));\r\n    const listkhuyenmai = datakhuyenmai.map((data, index) => (\r\n      <Col lg=\"12\" key={index} className=\"sidebar-khuyenmai\">\r\n        <Media>\r\n          <Media left href=\"#\">\r\n            <img src={data.src} alt={data.ten} className=\"thumbnail\" />\r\n          </Media>\r\n          <Media body>\r\n            <span className=\"name\">{data.ten}</span>\r\n            <span className=\"gia\">\r\n              {((data.gia * 70) / 100).toLocaleString()} đ\r\n            </span>\r\n          </Media>\r\n        </Media>\r\n      </Col>\r\n    ));\r\n    const listtintuc = datatintuc.map((data, index) => (\r\n      <Col lg=\"12\" key={index} className=\"sidebar-khuyenmai\">\r\n        <Media>\r\n          <Media left href=\"#\" className=\"img-tintuc\">\r\n            <img src={data.src} alt={data.ten} className=\"thumbnail-tintuc\" />\r\n          </Media>\r\n          <Media body>\r\n            <span className=\"title-tintuc\">{data.title}</span>\r\n          </Media>\r\n        </Media>\r\n      </Col>\r\n    ));\r\n    return (\r\n      <div>\r\n        <Head>\r\n          <link rel=\"stylesheet\" href=\"./static/style-header.css\" />\r\n          <link rel=\"stylesheet\" href=\"./static/style-footer.css\" />\r\n          <link rel=\"stylesheet\" href=\"./static/style-shoes.css\" />\r\n          <title>Shoes</title>\r\n        </Head>\r\n        <Layout>\r\n          <div id=\"layout\">\r\n            <div id=\"breadcrumb-header\">\r\n              <div id=\"breadcrumb\">\r\n                <Link href=\"/\">\r\n                  <a>TRANG CHỦ</a>\r\n                </Link>\r\n                <span className=\"divider\">/</span>\r\n                <span>SHOES</span>\r\n              </div>\r\n              <div id=\"sort\">\r\n                <p id=\"hienthiketqua\">\r\n                  Hiển thị <b>{numberProducts}</b> trong <b>{totalItems}</b> sản phẩm\r\n                </p>\r\n                <FilterToOrder />\r\n              </div>\r\n            </div>\r\n            <Row>\r\n              <Col lg=\"3\" id=\"sidebar\">\r\n                <h6>LỌC THEO GIÁ</h6>\r\n                <FilterforPrice />\r\n                <h6>KHUYỄN MÃI</h6>\r\n                {listkhuyenmai}\r\n                <h6 style={{ padding: \"1.5rem 0 .7rem 0\", margin: \"0\" }}>\r\n                  TIN TỨC\r\n                </h6>\r\n                {listtintuc}\r\n              </Col>\r\n              <Col lg=\"9\" id=\"products\">\r\n                <Row>\r\n                  {listallproducts}\r\n                  <Phantrang\r\n                    totalItems={totalItems}\r\n                    currentPage={currentPage}\r\n                    numberItemsPerPage={limit}\r\n                    sort={sort}\r\n                    order={order}\r\n                  />\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n        </Layout>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => ({\r\n  db: state\r\n});\r\n\r\nShoes.getInitialProps = async function({ query }) {\r\n  const page = query.page || 1;\r\n  const limit = 12;\r\n  const sort = query.sort || \"id\";\r\n  const order = query.order || \"asc\";\r\n  const gialess = query.gia_lte || 5000000;\r\n  const res = await fetch(\r\n    `${url}tatcasanpham?_sort=${sort}&_order=${order}&_page=${page}&_limit=${limit}&gia_lte=${gialess}`\r\n  );\r\n  const data = await res.json();\r\n\r\n  return {\r\n    products: data,\r\n    totalItems: res.headers.get(\"X-Total-Count\"),\r\n    currentPage: page,\r\n    limit: limit,\r\n    sort: sort,\r\n    order: order\r\n  };\r\n};\r\nexport default connect(mapStateToProps, null)(Shoes);\r\n"]},"metadata":{},"sourceType":"module"}