{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\buianh\\\\Desktop\\\\Github\\\\nguoibangiay.demo\\\\pages\\\\shoes.js\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Head from \"next/head\";\nimport Layout from \"./layout\";\nimport Link from \"next/link\";\nimport url from \"../components/link-data\";\nimport fetch from \"isomorphic-unfetch\";\nimport Phantrang from \"../components/phantrang\";\nimport { dispatchAddToCart, dispatchShowProducts, dispatchSort } from \"./actions/index\";\nimport { connect } from \"react-redux\";\nimport { Row, Col, Media } from \"reactstrap\";\nimport FilterToOrder from \"../components/filter\";\nimport FilterforPrice from \"../components/filterPrice\";\n\nvar Shoes =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Shoes, _React$Component);\n\n  function Shoes(props) {\n    var _this;\n\n    _classCallCheck(this, Shoes);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Shoes).call(this, props));\n    _this.state = {\n      allproducts: [],\n      allproductspage1: [],\n      customRange: 1000000,\n      datakhuyenmai: [],\n      datatintuc: []\n    };\n    return _this;\n  }\n\n  _createClass(Shoes, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // get data product sale-off sidebar\n      fetch(\"\".concat(url, \"khuyenmai?_start=0&_limit=5\")).then(function (result) {\n        return result.json();\n      }).then(function (db) {\n        return _this2.setState({\n          datakhuyenmai: db\n        });\n      }); // end\n      // get data tintuc\n\n      fetch(\"\".concat(url, \"tintuc\")).then(function (result) {\n        return result.json();\n      }).then(function (db) {\n        return _this2.setState({\n          datatintuc: db\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          datakhuyenmai = _this$state.datakhuyenmai,\n          datatintuc = _this$state.datatintuc;\n      var _this$props = this.props,\n          currentPage = _this$props.currentPage,\n          products = _this$props.products,\n          totalItems = _this$props.totalItems,\n          limit = _this$props.limit,\n          sort = _this$props.sort,\n          order = _this$props.order;\n      var numberProducts = products.length;\n      var listallproducts = products.map(function (data, index) {\n        return __jsx(Col, {\n          xs: \"6\",\n          sm: \"4\",\n          lg: \"3\",\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, __jsx(\"div\", {\n          className: \"products\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, __jsx(Link, {\n          href: \"/detail\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, __jsx(\"img\", {\n          src: data.src,\n          className: \"img-products\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        })), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }), __jsx(\"span\", {\n          className: \"name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, data.ten), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }), __jsx(\"span\", {\n          className: \"gia\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, data.gia.toLocaleString(), \" \\u0111\"), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }), __jsx(\"button\", {\n          className: \"addcart\",\n          onClick: dispatchAddToCart.bind(_this3, data),\n          disabled: data.statusAddToCart,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, \"Th\\xEAm v\\xE0o gi\\u1ECF\")));\n      });\n      var listkhuyenmai = datakhuyenmai.map(function (data, index) {\n        return __jsx(Col, {\n          lg: \"12\",\n          key: index,\n          className: \"sidebar-khuyenmai\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, __jsx(Media, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, __jsx(Media, {\n          left: true,\n          href: \"#\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, __jsx(\"img\", {\n          src: data.src,\n          alt: data.ten,\n          className: \"thumbnail\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        })), __jsx(Media, {\n          body: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, __jsx(\"span\", {\n          className: \"name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, data.ten), __jsx(\"span\", {\n          className: \"gia\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, (data.gia * 70 / 100).toLocaleString(), \" \\u0111\"))));\n      });\n      var listtintuc = datatintuc.map(function (data, index) {\n        return __jsx(Col, {\n          lg: \"12\",\n          key: index,\n          className: \"sidebar-khuyenmai\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, __jsx(Media, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, __jsx(Media, {\n          left: true,\n          href: \"#\",\n          className: \"img-tintuc\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }, __jsx(\"img\", {\n          src: data.src,\n          alt: data.ten,\n          className: \"thumbnail-tintuc\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        })), __jsx(Media, {\n          body: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, __jsx(\"span\", {\n          className: \"title-tintuc\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, data.title))));\n      });\n      return __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, __jsx(Head, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, __jsx(\"link\", {\n        rel: \"stylesheet\",\n        href: \"./static/style-header.css\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }), __jsx(\"link\", {\n        rel: \"stylesheet\",\n        href: \"./static/style-footer.css\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), __jsx(\"link\", {\n        rel: \"stylesheet\",\n        href: \"./static/style-shoes.css\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }), __jsx(\"title\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Shoes\")), __jsx(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        id: \"layout\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        id: \"breadcrumb-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        id: \"breadcrumb\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, __jsx(Link, {\n        href: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"TRANG CH\\u1EE6\")), __jsx(\"span\", {\n        className: \"divider\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"/\"), __jsx(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"SHOES\")), __jsx(\"div\", {\n        id: \"sort\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, __jsx(\"p\", {\n        id: \"hienthiketqua\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Hi\\u1EC3n th\\u1ECB \", __jsx(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, numberProducts), \" trong \", __jsx(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, totalItems), \" s\\u1EA3n ph\\u1EA9m\"), __jsx(FilterToOrder, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }))), __jsx(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, __jsx(Col, {\n        lg: \"3\",\n        id: \"sidebar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, __jsx(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"L\\u1ECCC THEO GI\\xC1\"), __jsx(FilterforPrice, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }), __jsx(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"KHUY\\u1EC4N M\\xC3I\"), listkhuyenmai, __jsx(\"h6\", {\n        style: {\n          padding: \"1.5rem 0 .7rem 0\",\n          margin: \"0\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"TIN T\\u1EE8C\"), listtintuc), __jsx(Col, {\n        lg: \"9\",\n        id: \"products\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, __jsx(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, listallproducts, __jsx(Phantrang, {\n        totalItems: totalItems,\n        currentPage: currentPage,\n        numberItemsPerPage: limit,\n        sort: sort,\n        order: order,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      })))))));\n    }\n  }]);\n\n  return Shoes;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    db: state\n  };\n};\n\nShoes.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(_ref) {\n    var query, page, limit, sort, order, gialess, res, data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            query = _ref.query;\n            page = query.page || 1;\n            limit = 12;\n            sort = query.sort || \"id\";\n            order = query.order || \"asc\";\n            gialess = query.gia_lte || 5000000;\n            _context.next = 8;\n            return fetch(\"\".concat(url, \"tatcasanpham?_sort=\").concat(sort, \"&_order=\").concat(order, \"&_page=\").concat(page, \"&_limit=\").concat(limit, \"&gia_lte=\").concat(gialess));\n\n          case 8:\n            res = _context.sent;\n            _context.next = 11;\n            return res.json();\n\n          case 11:\n            data = _context.sent;\n            return _context.abrupt(\"return\", {\n              products: data,\n              totalItems: res.headers.get(\"X-Total-Count\"),\n              currentPage: page,\n              limit: limit,\n              sort: sort,\n              order: order\n            });\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport default connect(mapStateToProps, null)(Shoes);","map":{"version":3,"sources":["C:/Users/buianh/Desktop/Github/nguoibangiay.demo/pages/shoes.js"],"names":["React","Head","Layout","Link","url","fetch","Phantrang","dispatchAddToCart","dispatchShowProducts","dispatchSort","connect","Row","Col","Media","FilterToOrder","FilterforPrice","Shoes","props","state","allproducts","allproductspage1","customRange","datakhuyenmai","datatintuc","then","result","json","db","setState","currentPage","products","totalItems","limit","sort","order","numberProducts","length","listallproducts","map","data","index","src","ten","gia","toLocaleString","bind","statusAddToCart","listkhuyenmai","listtintuc","title","padding","margin","Component","mapStateToProps","getInitialProps","query","page","gialess","gia_lte","res","headers","get"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Head from \"next/head\";\r\nimport Layout from \"./layout\";\r\nimport Link from \"next/link\";\r\nimport url from \"../components/link-data\";\r\nimport fetch from \"isomorphic-unfetch\";\r\nimport Phantrang from \"../components/phantrang\";\r\nimport {\r\n  dispatchAddToCart,\r\n  dispatchShowProducts,\r\n  dispatchSort\r\n} from \"./actions/index\";\r\nimport { connect } from \"react-redux\";\r\nimport { Row, Col, Media } from \"reactstrap\";\r\nimport FilterToOrder from \"../components/filter\";\r\nimport FilterforPrice from \"../components/filterPrice\";\r\n\r\nclass Shoes extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      allproducts: [],\r\n      allproductspage1: [],\r\n      customRange: 1000000,\r\n      datakhuyenmai: [],\r\n      datatintuc: []\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    // get data product sale-off sidebar\r\n    fetch(`${url}khuyenmai?_start=0&_limit=5`)\r\n      .then(result => {\r\n        return result.json();\r\n      })\r\n      .then(db =>\r\n        this.setState({\r\n          datakhuyenmai: db\r\n        })\r\n      );\r\n    // end\r\n    // get data tintuc\r\n    fetch(`${url}tintuc`)\r\n      .then(result => {\r\n        return result.json();\r\n      })\r\n      .then(db =>\r\n        this.setState({\r\n          datatintuc: db\r\n        })\r\n      );\r\n  }\r\n  render() {\r\n    const { datakhuyenmai, datatintuc } = this.state;\r\n    const {\r\n      currentPage,\r\n      products,\r\n      totalItems,\r\n      limit,\r\n      sort,\r\n      order\r\n    } = this.props;\r\n    const numberProducts = products.length;\r\n    const listallproducts = products.map((data, index) => (\r\n      <Col xs=\"6\" sm=\"4\" lg=\"3\" key={index}>\r\n        <div className=\"products\">\r\n          <Link href=\"/detail\">\r\n            <img src={data.src} className=\"img-products\" />\r\n          </Link>\r\n          <br />\r\n          <span className=\"name\">{data.ten}</span>\r\n          <br />\r\n          <span className=\"gia\">{data.gia.toLocaleString()} đ</span>\r\n          <br />\r\n          <button\r\n            className=\"addcart\"\r\n            onClick={dispatchAddToCart.bind(this,data)}\r\n            disabled={data.statusAddToCart}\r\n          >\r\n            Thêm vào giỏ\r\n          </button>\r\n        </div>\r\n      </Col>\r\n    ));\r\n    const listkhuyenmai = datakhuyenmai.map((data, index) => (\r\n      <Col lg=\"12\" key={index} className=\"sidebar-khuyenmai\">\r\n        <Media>\r\n          <Media left href=\"#\">\r\n            <img src={data.src} alt={data.ten} className=\"thumbnail\" />\r\n          </Media>\r\n          <Media body>\r\n            <span className=\"name\">{data.ten}</span>\r\n            <span className=\"gia\">\r\n              {((data.gia * 70) / 100).toLocaleString()} đ\r\n            </span>\r\n          </Media>\r\n        </Media>\r\n      </Col>\r\n    ));\r\n    const listtintuc = datatintuc.map((data, index) => (\r\n      <Col lg=\"12\" key={index} className=\"sidebar-khuyenmai\">\r\n        <Media>\r\n          <Media left href=\"#\" className=\"img-tintuc\">\r\n            <img src={data.src} alt={data.ten} className=\"thumbnail-tintuc\" />\r\n          </Media>\r\n          <Media body>\r\n            <span className=\"title-tintuc\">{data.title}</span>\r\n          </Media>\r\n        </Media>\r\n      </Col>\r\n    ));\r\n    return (\r\n      <div>\r\n        <Head>\r\n          <link rel=\"stylesheet\" href=\"./static/style-header.css\" />\r\n          <link rel=\"stylesheet\" href=\"./static/style-footer.css\" />\r\n          <link rel=\"stylesheet\" href=\"./static/style-shoes.css\" />\r\n          <title>Shoes</title>\r\n        </Head>\r\n        <Layout>\r\n          <div id=\"layout\">\r\n            <div id=\"breadcrumb-header\">\r\n              <div id=\"breadcrumb\">\r\n                <Link href=\"/\">\r\n                  <a>TRANG CHỦ</a>\r\n                </Link>\r\n                <span className=\"divider\">/</span>\r\n                <span>SHOES</span>\r\n              </div>\r\n              <div id=\"sort\">\r\n                <p id=\"hienthiketqua\">\r\n                  Hiển thị <b>{numberProducts}</b> trong <b>{totalItems}</b> sản phẩm\r\n                </p>\r\n                <FilterToOrder />\r\n              </div>\r\n            </div>\r\n            <Row>\r\n              <Col lg=\"3\" id=\"sidebar\">\r\n                <h6>LỌC THEO GIÁ</h6>\r\n                <FilterforPrice />\r\n                <h6>KHUYỄN MÃI</h6>\r\n                {listkhuyenmai}\r\n                <h6 style={{ padding: \"1.5rem 0 .7rem 0\", margin: \"0\" }}>\r\n                  TIN TỨC\r\n                </h6>\r\n                {listtintuc}\r\n              </Col>\r\n              <Col lg=\"9\" id=\"products\">\r\n                <Row>\r\n                  {listallproducts}\r\n                  <Phantrang\r\n                    totalItems={totalItems}\r\n                    currentPage={currentPage}\r\n                    numberItemsPerPage={limit}\r\n                    sort={sort}\r\n                    order={order}\r\n                  />\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n        </Layout>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => ({\r\n  db: state\r\n});\r\n\r\nShoes.getInitialProps = async function({ query }) {\r\n  const page = query.page || 1;\r\n  const limit = 12;\r\n  const sort = query.sort || \"id\";\r\n  const order = query.order || \"asc\";\r\n  const gialess = query.gia_lte || 5000000;\r\n  const res = await fetch(\r\n    `${url}tatcasanpham?_sort=${sort}&_order=${order}&_page=${page}&_limit=${limit}&gia_lte=${gialess}`\r\n  );\r\n  const data = await res.json();\r\n\r\n  return {\r\n    products: data,\r\n    totalItems: res.headers.get(\"X-Total-Count\"),\r\n    currentPage: page,\r\n    limit: limit,\r\n    sort: sort,\r\n    order: order\r\n  };\r\n};\r\nexport default connect(mapStateToProps, null)(Shoes);\r\n"]},"metadata":{},"sourceType":"module"}